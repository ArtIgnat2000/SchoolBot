# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ Docker –Ω–∞ Synology

## ‚ùå –û—à–∏–±–∫–∞
```
permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock
```

## üéØ –ë—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –†–µ—à–µ–Ω–∏–µ 1: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ sudo (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)
```bash
# –í–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
bash deploy-synology.sh

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ sudo
sudo bash deploy-synology.sh
```

### –†–µ—à–µ–Ω–∏–µ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É docker (–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)
```bash
# –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER

# –ò–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
sudo usermod -aG docker admin

# –í–ê–ñ–ù–û: –ü–µ—Ä–µ–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
exit
# –ó–∞—Ç–µ–º –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∑–∞–Ω–æ–≤–æ —á–µ—Ä–µ–∑ SSH
ssh admin@your_synology_ip
```

### –†–µ—à–µ–Ω–∏–µ 3: –í—Ä–µ–º–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤
```bash
# –í—Ä–µ–º–µ–Ω–Ω–æ (–¥–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏) –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ Docker socket
sudo chmod 666 /var/run/docker.sock

# –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –±–µ–∑ sudo
bash deploy-synology.sh
```

## ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç `deploy-synology.sh` —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** –∫ Docker
2. **–ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è** –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã
3. **–ú–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å** –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### –ü—Ä–∏–º–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```bash
bash deploy-synology.sh
# –°–∫—Ä–∏–ø—Ç –æ–±–Ω–∞—Ä—É–∂–∏—Ç –ø—Ä–æ–±–ª–µ–º—É –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã:
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ sudo
# 2. –î–æ–±–∞–≤–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É docker
# 3. –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–∏—Ö –ø—Ä–∞–≤

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤ –∫–∞–∫–∏—Ö –≥—Ä—É–ø–ø–∞—Ö —Å–æ—Å—Ç–æ–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
groups $USER

# –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≥—Ä—É–ø–ø–∞ "docker"
# –ï—Å–ª–∏ –Ω–µ—Ç - –¥–æ–±–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ usermod

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ Docker
docker info
# –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ sudo - –ø—Ä–∞–≤–∞ –≤ –ø–æ—Ä—è–¥–∫–µ
```

## üè† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Synology

### Container Manager –∏ –ø—Ä–∞–≤–∞
- Container Manager —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Docker —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–æ–ª—å–∫–æ `root` –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ Docker daemon
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã NAS –Ω–µ –≤—Å–µ–≥–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –≥—Ä—É–ø–ø—É `docker`

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è Synology:
```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å admin –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker admin

# 2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Container Manager (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
sudo systemctl restart docker

# 3. –ü–µ—Ä–µ–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è
exit
ssh admin@your_synology_ip

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø
docker ps
```

## üöÄ –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü–æ–ª–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤:
```bash
# –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ –ø–æ—Ä—è–¥–∫—É:

# 1. –î–æ–±–∞–≤–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER

# 2. –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ socket (–≤—Ä–µ–º–µ–Ω–Ω–æ)
sudo chmod 666 /var/run/docker.sock

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø
docker info

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
bash deploy-synology.sh
```

### –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sudo –¥–ª—è –≤—Å–µ—Ö Docker –∫–æ–º–∞–Ω–¥
sudo bash deploy-synology.sh
sudo docker ps
sudo docker logs school-bot
sudo docker-compose -f docker-compose.synology.yml down
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—à–µ–Ω–∏—è

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ª—é–±–æ–≥–æ –∏–∑ —Ä–µ—à–µ–Ω–∏–π:

```bash
# –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫:
docker info
docker ps
docker-compose version

# –ï—Å–ª–∏ –≤—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ - –∑–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞:
bash deploy-synology.sh
```

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### –ß–µ—Ä–µ–∑ Container Manager GUI:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Container Manager
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Project 
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç —Å docker-compose.synology.yml
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ß–µ—Ä–µ–∑ Portainer (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):
1. –û—Ç–∫—Ä–æ–π—Ç–µ Portainer –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Stacks
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π stack —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º docker-compose.synology.yml
4. Deploy stack

## üìû –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Container Manager**:
   - Package Center ‚Üí Container Manager ‚Üí —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∑–∞–ø—É—â–µ–Ω

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Docker**:
   ```bash
   sudo systemctl restart docker
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Docker**:
   ```bash
   sudo journalctl -u docker
   ```

4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ sudo –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö**:
   ```bash
   sudo bash deploy-synology.sh
   ```

---

**üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–ª—è Synology NAS –ª—É—á—à–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `sudo bash deploy-synology.sh` - —ç—Ç–æ —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–∞–≤–∞–º–∏.