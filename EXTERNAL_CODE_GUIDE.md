# üîÑ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –≤–Ω–µ—à–Ω–∏–º –∫–æ–¥–æ–º –≤ Docker

## –û–±–∑–æ—Ä —Ä–µ—à–µ–Ω–∏–π

–î–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Python –∫–æ–¥–∞ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ Docker –æ–±—Ä–∞–∑–∞ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

## üöÄ –°–ø–æ—Å–æ–± 1: Docker Compose —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### –§–∞–π–ª: `docker-compose.dev.yml`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü–æ–ª–Ω–æ–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –∫—ç—à–∞ Python –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è .pyc —Ñ–∞–π–ª–æ–≤

**–ó–∞–ø—É—Å–∫:**
```bash
# Windows PowerShell
docker-compose -f docker-compose.dev.yml up -d

# –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º
docker-compose -f docker-compose.dev.yml logs -f
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –í–µ—Å—å –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ `/app`
2. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ `.py` —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
3. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ (–Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å)

---

## üìÅ –°–ø–æ—Å–æ–± 2: –ü—Ä–æ—Å—Ç–æ–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

### –§–∞–π–ª: `docker-compose.external-code.yml`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –†—É—á–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –õ—É—á—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ç–µ–º, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã

**–ó–∞–ø—É—Å–∫:**
```bash
# Windows PowerShell
docker-compose -f docker-compose.external-code.yml up -d

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
docker-compose -f docker-compose.external-code.yml restart
```

---

## üîß –°–ø–æ—Å–æ–± 3: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (Live Reload)

–î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏:

**–ó–∞–ø—É—Å–∫ —Å live reload:**
```bash
# –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose -f docker-compose.dev.yml up -d

# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
docker exec -it school-bot-dev bash

# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å nodemon-–ø–æ–¥–æ–±–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º
watchmedo auto-restart --directory=/app --pattern='*.py' --recursive -- python main.py
```

---

## üìã –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
docker-compose -f docker-compose.dev.yml up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose -f docker-compose.dev.yml logs -f school-bot

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose -f docker-compose.dev.yml down

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ (–ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Dockerfile.dev)
docker-compose -f docker-compose.dev.yml build --no-cache

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
docker exec -it school-bot-dev bash
```

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–¥–∞–∫—à–Ω –≤–µ—Ä—Å–∏—é
docker-compose down

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ—Ä—Å–∏—é –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
docker-compose -f docker-compose.dev.yml up -d

# –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–æ–¥–∞–∫—à–Ω –≤–µ—Ä—Å–∏–∏
docker-compose -f docker-compose.dev.yml down
docker-compose up -d
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `docker-compose.dev.yml` —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º
- –ö–æ–¥ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤
- –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `docker-compose.external-code.yml`
- –ü—Ä–æ—Å—Ç–æ–π –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥
- –†—É—á–Ω–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `docker-compose.yml`
- –ö–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–∑–∞
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

## üîç –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
School_Bot/
‚îú‚îÄ‚îÄ docker-compose.yml              # –ü—Ä–æ–¥–∞–∫—à–Ω (–∫–æ–¥ –≤ –æ–±—Ä–∞–∑–µ)
‚îú‚îÄ‚îÄ docker-compose.dev.yml          # –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–∞–≤—Ç–æ-reload)
‚îú‚îÄ‚îÄ docker-compose.external-code.yml # –ü—Ä–æ—Å—Ç–æ–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ Dockerfile                      # –ü—Ä–æ–¥–∞–∫—à–Ω –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ Dockerfile.dev                  # –û–±—Ä–∞–∑ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ main.py                         # ‚Üê –í–∞—à –∫–æ–¥ –∑–¥–µ—Å—å
‚îú‚îÄ‚îÄ config.py                       # ‚Üê –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å–Ω–∞—Ä—É–∂–∏
‚îú‚îÄ‚îÄ handlers/                       # ‚Üê –ú–æ–¥—É–ª–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
‚îÇ   ‚îú‚îÄ‚îÄ commands.py
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ .env                           # ‚Üê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–Ω–∞—Ä—É–∂–∏
```

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –≤ —É–¥–æ–±–Ω–æ–µ –º–µ—Å—Ç–æ:**
   ```bash
   # –í–µ—Å—å –∫–æ–¥ —É–∂–µ —É –≤–∞—Å –≤ d:\TG_Bots\School_Bot\
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
   ```bash
   cd d:\TG_Bots\School_Bot\
   docker-compose -f docker-compose.dev.yml up -d
   ```

3. **–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã** –≤ –ø–∞–ø–∫–µ `d:\TG_Bots\School_Bot\`

4. **–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!** üéâ

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

**–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
docker inspect school-bot-dev | grep -A 10 "Mounts"

# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
docker exec -it school-bot-dev bash
ls -la /app/  # –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∞—à–∏ —Ñ–∞–π–ª—ã
```

**–ï—Å–ª–∏ –∞–≤—Ç–æ-–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ watchdog
docker-compose -f docker-compose.dev.yml logs school-bot

# –†—É—á–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose -f docker-compose.dev.yml restart school-bot
```